module factorial

export
  ( factorial n
  )

section bss

section data

section text

factorial (n)
{
  iread n          // n
  0                // n 0
  icmp             // (n `cmp` 0)
  jle exit1        //

  iread n          // n
  iread n          // n n
  1                // n (n-1)
  isub
  call 1 factorial // n (fac (n-1))
  imul             // n*(fac (n-1))
  ret

.exit1:
  1
  ret
}
